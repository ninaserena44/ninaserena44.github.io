<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Test Modal</title>
  <style>
    .modal { display: none; position: fixed; top: 0; left: 0;
      width: 100%; height: 100%; background: rgba(0,0,0,0.7);
      justify-content: center; align-items: center; z-index: 9999; }
    .modal.show { display: flex; }
    .modal-content { background: white; padding: 2rem; border-radius: 10px; width: 300px; }
    .info-btn { margin-top: 20px; padding: 10px 20px; }
  </style>
</head>
<body>

<button class="info-btn" data-title="Sleep Tips" data-content="Tip 1|Tip 2|Tip 3">More Info</button>

<div id="modal" class="modal" role="dialog" tabindex="0" aria-modal="true" aria-hidden="true"
     aria-labelledby="modalTitle" aria-describedby="modalBody">
  <div class="modal-content">
    <button id="closeModal">&times;</button>
    <h3 id="modalTitle"></h3>
    <div id="modalBody"></div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const buttons = document.querySelectorAll(".info-btn");
    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");
    const closeModalBtn = document.getElementById("closeModal");

    buttons.forEach(button => {
      button.addEventListener("click", () => {
        const title = button.getAttribute("data-title");
        const content = button.getAttribute("data-content");
        const tips = content.split("|").map(t => `<li>${t}</li>`).join("");

        modalTitle.textContent = title;
        modalBody.innerHTML = `<ul>${tips}</ul>`;
        modal.classList.add("show");
        modal.setAttribute("aria-hidden", "false");
        try { modal.focus(); } catch (e) {}
      });
    });

    closeModalBtn.addEventListener("click", () => {
      modal.classList.remove("show");
      modal.setAttribute("aria-hidden", "true");
    });

    window.addEventListener("click", e => {
      if (e.target === modal) {
        modal.classList.remove("show");
        modal.setAttribute("aria-hidden", "true");
      }
    });

    window.addEventListener("keydown", e => {
      if (e.key === "Escape" && modal.classList.contains("show")) {
        modal.classList.remove("show");
        modal.setAttribute("aria-hidden", "true");
      }
    });
  });
</script>

</body>
</html>
